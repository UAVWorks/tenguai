// ********************************************************************************************************************
// *                                                                                                                  *
// *                                         Vehicle graphics representation.                                         *
// * ---------------------------------------------------------------------------------------------------------------- *
// *                                     Графическое представление "самоходки".                                       *
// *                                                                                                                  *
// * Eugene G. Sysoletin <e.g.sysoletin@gmail.com>                                       Created 08 jun 2017 at 14:00 *
// ********************************************************************************************************************

#include "VehicleItem.h"

// ********************************************************************************************************************
// *                                                                                                                  *
// *                                                  The constructor.                                                *
// * ---------------------------------------------------------------------------------------------------------------- *
// *                                                    Конструктор.                                                  *
// *                                                                                                                  *
// ********************************************************************************************************************

tengu::VehicleItem::VehicleItem ( tengu::Vehicle * vehicle, QGraphicsItem* parent ) 
    : TopLevelItem ( vehicle , parent )
{
    _class_name = "VehicleItem";
    _entity_type = ET_VehicleItem;
}

// ********************************************************************************************************************
// *                                                                                                                  *
// *                                       The bounding rectangle for this item.                                      *
// * ---------------------------------------------------------------------------------------------------------------- *
// *                                  Привязанный к данному элементу прямоугольник.                                   *
// *                                                                                                                  *
// ********************************************************************************************************************

QRectF tengu::VehicleItem::boundingRect() const {
    return QRectF( 0.0, 0.0, 130, 130 );
}

// ********************************************************************************************************************
// *                                                                                                                  *
// *                                                  The paint method.                                               *
// * ---------------------------------------------------------------------------------------------------------------- *
// *                                                   Метод отрисовки.                                               *
// *                                                                                                                  *
// ********************************************************************************************************************

void tengu::VehicleItem::paint ( QPainter * painter, const QStyleOptionGraphicsItem * option, QWidget * widget ) {
    
    Q_UNUSED( option );
    Q_UNUSED( widget );
    
    QPixmap aircraft(":Airplane_icon_128.png");
    painter->drawPixmap( 1, 1, aircraft );
    
}

// ********************************************************************************************************************
// *                                                                                                                  *
// *                                            Check the entity is valid.                                            *
// * ---------------------------------------------------------------------------------------------------------------- *
// *                                      Проверяем, валидна ли ссылка на entity                                      *
// *                                                                                                                  *
// ********************************************************************************************************************

void tengu::VehicleItem::checkEntity() {
    if ( ! _entity ) _entity = new Vehicle();
}


// ********************************************************************************************************************
// *                                                                                                                  *
// *                                                   The destructor.                                                *
// * ---------------------------------------------------------------------------------------------------------------- *
// *                                                     Деструктор.                                                  *
// *                                                                                                                  *
// ********************************************************************************************************************

tengu::VehicleItem::~VehicleItem() {

}


